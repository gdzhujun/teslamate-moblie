# TeslaMate Mobile

**ä¸€æ¬¾éå®˜æ–¹çš„ç§»åŠ¨å®¢æˆ·ç«¯ï¼Œæ—¨åœ¨ä¸ºæ‚¨æä¾›ä¾¿æ·çš„æ–¹å¼æ¥æŸ¥çœ‹å’Œäº¤äº’æ‚¨çš„ TeslaMate æ•°æ®ã€‚éšæ—¶éšåœ°ç›‘æ§æ‚¨çš„ç‰¹æ–¯æ‹‰è½¦è¾†çŠ¶æ€ã€è¡Œç¨‹ã€å……ç”µç­‰ä¿¡æ¯ã€‚**

---

## ç›®å½•

- âœ¨ ä¸»è¦åŠŸèƒ½
- ğŸ“¸ åº”ç”¨æˆªå›¾
- âš™ï¸ é…ç½®æ‚¨çš„ TeslaMate API
- ğŸ™ è‡´è°¢

---

## âœ¨ ä¸»è¦åŠŸèƒ½

*   **å®æ—¶è½¦è¾†çŠ¶æ€**:
    *   æŸ¥çœ‹å½“å‰ç”µæ± ç”µé‡ ğŸ”‹
    *   é¢„ä¼°å‰©ä½™é‡Œç¨‹ğŸ›£ï¸
    *   è½¦è¾†å›ºä»¶ç‰ˆæœ¬
    *   å½“å‰é‡Œç¨‹è¡¨è¯»æ•°
    *   æ˜¾ç¤ºè½¦è¾†è¿‡å¾€çŠ¶æ€çš„æ—¶é—´è½´
*   **è¡Œç¨‹è®°å½• (Drives)**:
    *   æµè§ˆå†å²è¡Œç¨‹åˆ—è¡¨
    *   æŸ¥çœ‹æ¯ä¸ªè¡Œç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼š
        *   èµ·æ­¢æ—¶é—´ã€åœ°ç‚¹
        *   è¡Œé©¶è·ç¦»ã€æ—¶é•¿
        *   å¹³å‡é€Ÿåº¦ã€æœ€é«˜é€Ÿåº¦
        *   èƒ½è€—ã€æ•ˆç‡
        *   å®¤å¤–æ¸©åº¦
    *   è¡Œç¨‹è½¨è¿¹åœ°å›¾å±•ç¤º ğŸ—ºï¸
    *   è¡Œç¨‹ç›¸å…³çš„å›¾è¡¨åˆ†æ (é€Ÿåº¦ã€åŠŸç‡ã€æµ·æ‹”ã€æ¸©åº¦ã€èƒå‹)
*   **å……ç”µè®°å½• (Charges)**:
    *   æµè§ˆå†å²å……ç”µä¼šè¯åˆ—è¡¨
    *   æŸ¥çœ‹æ¯æ¬¡å……ç”µçš„è¯¦ç»†ä¿¡æ¯ï¼š
        *   å¼€å§‹/ç»“æŸæ—¶é—´ã€åœ°ç‚¹
        *   å……ç”µé‡ (kWh)ã€å……ç”µæ—¶é•¿
        *   å……ç”µåŠŸç‡ã€ç”µå‹ã€ç”µæµç­‰å›¾è¡¨ ğŸ“Š
        *   å……ç”µç±»å‹ (AC/DC)
*   **ç”µæ± å¥åº·åº¦ (Battery Health)**:
    *   æŸ¥çœ‹ç”µæ± å¥åº·ç™¾åˆ†æ¯”
    *   æ–°è½¦å¯ç”¨ç”µé‡ vs å½“å‰å¯ç”¨ç”µé‡
    *   æ–°è½¦æœ€å¤§ç»­èˆª vs å½“å‰æœ€å¤§ç»­èˆª
    *   å®¹é‡è¡°å‡å’Œç»­èˆªæŸå¤±ä¼°ç®—
*   **ç»Ÿè®¡ä¸æ¦‚è§ˆ (Statistics / Overview - æ ¹æ®æ‚¨çš„å®ç°æƒ…å†µ)**:
    *   æ€»è¡Œé©¶é‡Œç¨‹
    *   æ€»èƒ½è€—
    *   æ¯æ—¥/æ¯æœˆè¡Œé©¶é‡Œç¨‹å›¾è¡¨
    *   é©¾é©¶æ¬¡æ•°ç»Ÿè®¡
    *   [æ‚¨å¯ä»¥åœ¨æ­¤æ·»åŠ æ›´å¤šç»Ÿè®¡åŠŸèƒ½]
*   **ä½ç½®æœåŠ¡**:
    *   æŸ¥çœ‹å¸¸å»åœ°ç‚¹ (Visited locations)
    *   ç»ˆèº«é©¾é©¶åœ°å›¾ (Lifetime drive map)
*   **è½¦è¾†æ›´æ–° (Updates)**:
    *   æŸ¥çœ‹è½¦è¾†è½¯ä»¶æ›´æ–°å†å²
*   **ç”¨æˆ·è®¾ç½®**:
    *   é…ç½®è¿æ¥åˆ°æ‚¨è‡ªå·±çš„ TeslaMate API æœåŠ¡å™¨åœ°å€å’Œ Token
    *   æ—¶åŒºè®¾ç½®
    *   å•ä½è®¾ç½® (å…¬é‡Œ/è‹±é‡Œ)
    *   å¤œé—´/æ·±è‰²æ¨¡å¼åˆ‡æ¢ ğŸŒƒ
    *   æµ‹è¯•æ•°æ®åº“è¿æ¥åŠŸèƒ½ ğŸ“¡

---

## ğŸ“¸ åº”ç”¨æˆªå›¾
<img width="540" height="1200" alt="Screenshot_20250916_154354" src="https://github.com/user-attachments/assets/31538a48-c967-4c73-8a65-06b5f0a2573c" />
<img width="540" height="1200" alt="Screenshot_20250916_154345" src="https://github.com/user-attachments/assets/67cb19ff-5551-43f4-9212-48518591d201" />
<img width="540" height="1200" alt="Screenshot_20250916_154326" src="https://github.com/user-attachments/assets/9235a35d-d80e-42a4-9c78-c75c2dca05d7" />
<img width="540" height="1200" alt="Screenshot_20250916_154312" src="https://github.com/user-attachments/assets/43ae4b54-be0b-4b7a-9a64-e09d84a24606" />
<img width="540" height="1200" alt="Screenshot_20250916_154300" src="https://github.com/user-attachments/assets/ce885a6d-35a3-429a-8378-a2acd6bbd18f" />
<img width="540" height="1200" alt="Screenshot_20250916_154245" src="https://github.com/user-attachments/assets/c3be9d32-cedd-4a12-a976-5d08a53c7d9c" />
<img width="540" height="1200" alt="Screenshot_20250916_154235" src="https://github.com/user-attachments/assets/16853d2d-1656-4790-b81a-99f696486646" />
<img width="540" height="1200" alt="Screenshot_20250916_154136" src="https://github.com/user-attachments/assets/ac7a7df1-13c5-4adb-b5f5-7010ded2ba46" />
<img width="540" height="1200" alt="Screenshot_20250916_154047" src="https://github.com/user-attachments/assets/723ba51c-e818-4b33-9443-67e2d98268e9" />
<img width="540" height="1200" alt="Screenshot_20250916_154038" src="https://github.com/user-attachments/assets/ff9f2d7b-b51e-46a8-bc9d-0f4eb55cd356" />
<img width="540" height="1200" alt="Screenshot_20250916_154021" src="https://github.com/user-attachments/assets/b049900a-d665-4e78-b875-6f4d721e22c0" />
<img width="540" height="1200" alt="Screenshot_20250916_154009" src="https://github.com/user-attachments/assets/d9352e56-275c-468a-8397-890f6e579108" />
<img width="540" height="1200" alt="Screenshot_20250916_153839" src="https://github.com/user-attachments/assets/4d683ff7-ff25-4b84-93b6-5a8d555f43ea" />

## âš™ï¸ é…ç½®æ‚¨çš„ TeslaMate API
### å‰ææ¡ä»¶
æ‚¨éœ€è¦å·²ç»é€šè¿‡ Docker æˆåŠŸéƒ¨ç½²äº† [TeslaMate](https://github.com/teslamate-org/teslamate)ã€‚æœ¬æœåŠ¡çš„æ•°æ®åº“å°†è¿æ¥åˆ°æ‚¨ç°æœ‰çš„ 
TeslaMate æ•°æ®åº“ã€‚

---

### æœåŠ¡ç«¯å®‰è£…

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»»ä¸€æ–¹å¼å®‰è£… `tmate-api` æœåŠ¡ç«¯ï¼š

1. ä½¿ç”¨ Docker Compose (docker-compose.yml)å°†ä»¥ä¸‹æœåŠ¡é…ç½®æ·»åŠ åˆ°ä¹‹å‰æ‚¨éƒ¨ç½²teslamateæ—¶çš„ docker-compose.yml æ–‡ä»¶ä¸­çš„ services éƒ¨åˆ†ï¼š

```
services:
  #æ‚¨ç°æœ‰çš„æœåŠ¡é…ç½®

  # æ·»åŠ  tmate-api æœåŠ¡
  tmate-api:
    image: gdzhujun933/tmate-api:latest
    container_name: tmate-api
    restart: unless-stopped
    environment:
      - DB_HOST=database
      - DB_PORT=5432        # ä¸teslamateç›¸åŒï¼Œé»˜è®¤5432
      - DB_NAME=teslamate        # ä¸teslamateç›¸åŒ
      - DB_USER=teslamate        # ä¸teslamateç›¸åŒ
      - DB_PASS=your_teslamate_db_password    # å¿…é¡»ä¸teslamateè®¾ç½®çš„å®Œå…¨ç›¸åŒ
      - API_KEY=your_secret_api_key_here             # è‡ªè¡Œè®¾ç½®ï¼Œåç»­appä¸­éœ€è¦å¡«å…¥
    ports:
      - "9999:8080"  # å¯ä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£
````

#### 2. ä½¿ç”¨ Docker `run` å‘½ä»¤å¿«é€Ÿéƒ¨ç½²

```
docker run -d \
--name tmate-api \
--network docker_default \  #é‡è¦å‚æ•°ä¸èƒ½ä¹±å¡«ï¼Œå¦åˆ™å¯¼è‡´ä¸teslamateä¸åœ¨ä¸€ä¸ªç½‘ç»œå†…æ— æ³•è¿ä¸Šæ•°æ®åº“
-p 9999:8080 \
--restart unless-stopped \
-e DB_HOST=database \
-e DB_PORT=5432 \
-e DB_NAME=teslamate \
-e DB_USER=teslamate \
-e DB_PASS=your_teslamate_db_password \
-e API_KEY=your_secret_api_key_here \
gdzhujun933/tmate-api:latest
```


**é‡è¦ç¯å¢ƒå˜é‡è¯´æ˜ï¼š**

*   `network`:å¡«ä¹‹å‰ç”¨docker network lså‘½ä»¤æŸ¥çœ‹å½“å‰çš„ç½‘ç»œæ¸…å•ï¼Œä»¥ubuntuä¸ºä¾‹ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯ï¼š
*   root@teslamate:/home/ubuntu# docker network ls
NETWORK ID     NAME             DRIVER    SCOPE
acfe0f8b26af   bridge           bridge    local
9097dde69d15   host             host      local
0b43f3509fc9   none             null      local
fa48b522c33c   ubuntu_default   bridge    local
* é‚£å°±åº”è¯¥æ”¹æˆ--network ubuntu_default
*   `DB_PASS`: **å¿…é¡»**ä¸æ‚¨éƒ¨ç½² TeslaMate æ—¶ä¸ºæ•°æ®åº“è®¾ç½®çš„ `POSTGRES_PASSWORD` 
æˆ– `DATABASE_PASS` å®Œå…¨ç›¸åŒã€‚
*   `API_KEY`: æ‚¨è‡ªå®šä¹‰çš„ API 
å¯†é’¥ï¼ˆTokenï¼‰ã€‚åç»­åœ¨ App 
çš„è®¾ç½®ä¸­éœ€è¦å¡«å…¥æ­¤å€¼ä»¥è¿›è¡ŒéªŒè¯ã€‚



**æ³¨æ„ï¼š**

*   `--network docker_default`: ç¡®ä¿æ­¤æœåŠ¡ä¸æ‚¨çš„ TeslaMate `database` 
å®¹å™¨åœ¨åŒä¸€ä¸ª Docker 
ç½‘ç»œä¸­ï¼Œä»¥ä¾¿èƒ½å¤Ÿé€šè¿‡æœåŠ¡å `database` è®¿é—®æ•°æ®åº“ã€‚å¦‚æœæ‚¨çš„ TeslaMate 
ä½¿ç”¨äº†ä¸åŒçš„ç½‘ç»œåç§°ï¼Œè¯·æ›¿æ¢ `docker_default`ã€‚
*   `-p 9999:8080`: å°†å®¿ä¸»æœºçš„ `9999` ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ `8080` 
ç«¯å£ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹å®¿ä¸»æœºç«¯å£ `9999`ã€‚
*   å°† `your_teslamate_db_password` æ›¿æ¢ä¸ºæ‚¨çš„ TeslaMate æ•°æ®åº“å¯†ç ã€‚
*   å°† `your_secret_api_key_here` æ›¿æ¢ä¸ºæ‚¨è‡ªå®šä¹‰çš„ API å¯†é’¥ã€‚

---
## App é…ç½®

å®‰è£…å®Œ App åï¼Œæ‚¨éœ€è¦åœ¨ App çš„**è®¾ç½®**ä¸­å¡«å†™ä»¥ä¸‹ä¿¡æ¯æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼š

1.  **æœåŠ¡å™¨åœ°å€ (Server Address):**
    *   æ ¼å¼ä¸ºï¼š`http://<æ‚¨çš„æœåŠ¡å™¨IPæˆ–åŸŸå>:<ç«¯å£å·>`
    *   ä¾‹å¦‚ï¼Œå¦‚æœ `tmate-api` æœåŠ¡éƒ¨ç½²åœ¨ IP åœ°å€ä¸º `10.0.0.234` çš„æœåŠ¡å™¨ä¸Šï¼Œå¹¶ä¸”æ‚¨åœ¨ Docker 
éƒ¨ç½²æ—¶å°†å®¿ä¸»æœºç«¯å£è®¾ç½®ä¸º `9999`ï¼Œåˆ™æœåŠ¡å™¨åœ°å€åº”å¡«å†™ä¸ºï¼š`http://10.0.0.234:9999`
2.  **Token:**
    *   å¡«å†™æ‚¨åœ¨éƒ¨ç½²æœåŠ¡ç«¯æ—¶è®¾ç½®çš„ `API_KEY` çš„å€¼ã€‚

---



æ³¨æ„ï¼šâ€¢ç¡®ä¿ DB_HOST æŒ‡å‘çš„æ˜¯æ‚¨ Docker Compose æ–‡ä»¶ä¸­å®šä¹‰çš„ TeslaMate æ•°æ®åº“æœåŠ¡çš„åç§°ï¼ˆé€šå¸¸æ˜¯ databaseï¼‰ã€‚â€¢å°† your_teslamate_db_password æ›¿æ¢ä¸ºæ‚¨çš„ TeslaMate æ•°æ®åº“å¯†ç ã€‚â€¢å°† your_secret_api_key_here æ›¿æ¢ä¸ºæ‚¨è‡ªå®šä¹‰çš„ API å¯†é’¥ã€‚â€¢å¦‚æœæ‚¨çš„ TeslaMate æœåŠ¡ä½¿ç”¨äº†è‡ªå®šä¹‰çš„ Docker ç½‘ç»œï¼Œè¯·ç¡®ä¿ tmate-api æœåŠ¡ä¹Ÿé€šè¿‡ networks æŒ‡ä»¤è¿æ¥åˆ°ç›¸åŒçš„ç½‘ç»œã€‚

## ğŸ™ è‡´è°¢
æ„Ÿè°¢ TeslaMate é¡¹ç›®çš„åˆ›å»ºè€…å’Œè´¡çŒ®è€…ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†å¦‚æ­¤å¼ºå¤§çš„ç‰¹æ–¯æ‹‰è½¦è¾†æ•°æ®è®°å½•å¹³å°ã€‚

    
